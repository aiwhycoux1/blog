<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">        

    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">

      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCore.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeEclipse.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCoreEclipse.min.css">

    <link href="/css/custom.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>How to Create a Reddit Bot Using PRAW4 In 5 Minutes - Progur!</title>
<meta property="og:title" content="How to Create a Reddit Bot Using PRAW4 In 5 Minutes" />
<meta name="description" content="In this tutorial, I’ll show you how to create a Reddit bot that can read comments, and also reply to them automatically. We’ll be creating the bot using the new and very powerful PRAW 4 Python package." />
<meta property="og:description" content="In this tutorial, I’ll show you how to create a Reddit bot that can read comments, and also reply to them automatically. We’ll be creating the bot using the new and very powerful PRAW 4 Python package." />
<link rel="canonical" href="http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html" />
<meta property="og:url" content="http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html" />
<meta property="og:site_name" content="Progur!" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-28T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@hathibel" />
<meta name="twitter:creator" content="@hathibel" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "How to Create a Reddit Bot Using PRAW4 In 5 Minutes",
    "datePublished": "2016-09-28T00:00:00+05:30",
    "description": "In this tutorial, I’ll show you how to create a Reddit bot that can read comments, and also reply to them automatically. We’ll be creating the bot using the new and very powerful PRAW 4 Python package.",
    "logo": "http://progur.com/assets/logo.jpg",
    "url": "http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html"
  }
</script>
<!-- End Jekyll SEO tag -->
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><i class="fa fa-terminal logo"></i> PROGUR!</a>
        </div>
        <!-- Options -->
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://twitter.com/hathibel" title="Follow me on Twitter"><i class="fa fa-lg fa-twitter" style="color: #4099FF"></i> &nbsp; Twitter</a></li>
            <li><a href="https://github.com/hathibelagal" title="Follow me on GitHub"><i class="fa fa-lg fa-github" style="color: #999999"></i> &nbsp; GitHub</a></li>
            <li><a href="https://medium.com/@hathibel" title="Follow me on Medium"><i class="fa fa-lg fa-medium" style="color: #0be370"></i> &nbsp; Medium</a></li>
            <li><a href="/feed.xml" title="Subscribe to our RSS feed"><i class="fa fa-lg fa-rss" style="color: #FF6600"></i>&nbsp; RSS</a></li>
          </ul>
        </div>
        <!-- End of Options -->
      </div>
    </nav>


<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div>
                <div>
                    <h1 class="post-title">How to Create a Reddit Bot Using PRAW4 In 5 Minutes</h1>
                    <div class="post-meta">Written by Ashraff Hathibelagal &bull; 28 September 2016</div>
                    <p style="margin-bottom: 20px"><span class="label label-info"><i class="fa fa-tag"> </i> &nbsp; Programming </span></p>
                    <div class="post-actual-content">
                        <p>Whether you like it or not, a significant number of Reddit users are bots. Usually, they perform just two tasks: they look for comments that match a few well-defined criteria and then automatically reply to them. Creating such bots takes less than 5 minutes if you know how to use Python.</p>

<p>In this tutorial, I’ll show you how to use the new and very powerful PRAW 4 Python package to create a Reddit bot that can not only look for comments containing a specific word in a given subreddit, but also automatically reply to such comments with a predefined message.</p>

<p>For the sake of a clear example, we’ll be looking for the word <strong>Mars</strong> in the comments of the <a href="https://reddit.com/r/space" target="_blank" rel="nofollow">r/space</a> subreddit. The canned reply will be <strong>Why no love for Titan?</strong></p>

<h3 id="setup">Setup</h3>

<p>Let’s start by installing the PRAW 4 package. The easiest way to do so is to use Python pip. If you don’t have it, here’s how you can get it on Ubuntu 14.04:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install python3-pip</code></pre></figure>

<p>With <code class="highlighter-rouge">pip3</code>, you can install PRAW using the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">pip3 install --user --upgrade https://github.com/praw-dev/praw/archive/praw4.zip</code></pre></figure>

<p>At this point, you can start using PRAW 4.</p>

<h3 id="registering-the-bot">Registering the Bot</h3>

<p>All Reddit bots must be registered with Reddit. Therefore, log in to Reddit using a new account, or an account you already have, and click on the <strong>preferences</strong> link.</p>

<p>Next, click on the <strong>apps</strong> tab.</p>

<p>Here, click on the <strong>create an app…</strong> button. You’ll now see a form asking for various details about the application.</p>

<p>Give a unique name and meaningful description to the application, and select <strong>script</strong>. The <strong>about url</strong> and <strong>redirect uri</strong> fields are not necessary for a script-based bot. Therefore, you can specify any URL. I’ll use <strong>example.com</strong>.</p>

<p><img src="/assets/block1/reddit3.png" class="img-responsive center-block img-thumbnail" alt="app registration form" /></p>

<p>Once you press the <strong>create app</strong> button, your bot will be registered and you will be able to see its client ID and client secret. Make a note of them because you’ll be needing them next.</p>

<p><img src="/assets/block1/reddit1.png" class="img-responsive center-block img-thumbnail" alt="app registration complete" /></p>

<h3 id="creating-the-bot">Creating the Bot</h3>

<p>Create a new file called <strong>mybot.py</strong> and open it using your favorite code editor. The first thing you need to do inside it is import the PRAW package using the following statement:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">praw</span></code></pre></figure>

<p>You can now create an instance of your bot using the <code class="highlighter-rouge">praw.Reddit</code> class. To its constructor, you must pass a meaningful user-agent, the client id, the client secret, your Reddit account’s username, and its password. Note that the Reddit account you use here is the same as the one you used while registering the bot.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">bot</span> <span class="o">=</span> <span class="n">praw</span><span class="o">.</span><span class="n">Reddit</span><span class="p">(</span><span class="n">user_agent</span><span class="o">=</span><span class="s">'MySimpleBot v0.1'</span><span class="p">,</span>
                  <span class="n">client_id</span><span class="o">=</span><span class="s">'abcdefGHIJKLO123--'</span><span class="p">,</span>
                  <span class="n">client_secret</span><span class="o">=</span><span class="s">'12345678901abcdefgh-_'</span><span class="p">,</span>
                  <span class="n">username</span><span class="o">=</span><span class="s">'demo_user'</span><span class="p">,</span>
                  <span class="n">password</span><span class="o">=</span><span class="s">'demo_password'</span><span class="p">)</span></code></pre></figure>

<p>The bot is now ready to be used.</p>

<p>To point it to a specific subreddit, you must use the <code class="highlighter-rouge">subreddit()</code> method. Here’s how you point it to the <a href="https://reddit.com/r/space" target="_blank" rel="nofollow">r/space</a> subreddit.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">subreddit</span> <span class="o">=</span> <span class="n">bot</span><span class="o">.</span><span class="n">subreddit</span><span class="p">(</span><span class="s">'space'</span><span class="p">)</span></code></pre></figure>

<p>PRAW4 makes it very easy for you to continuously monitor a subreddit for new posts and comments. All you need to do is make use of the <code class="highlighter-rouge">stream</code> object. By using <code class="highlighter-rouge">stream</code>, you don’t have to create any loop, or bother about Reddit’s rate limits. PRAW 4 handles it all for you automatically.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">comments</span> <span class="o">=</span> <span class="n">subreddit</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">comments</span><span class="p">()</span></code></pre></figure>

<p>Once you have the <code class="highlighter-rouge">comments</code> generator, you can create a <code class="highlighter-rouge">for</code> loop to analyze each item it returns. For now, let us just extract the comment’s <code class="highlighter-rouge">body</code> and <code class="highlighter-rouge">author</code> fields.</p>

<p>Once you are sure that the <code class="highlighter-rouge">body</code> contains the keyword <strong>Mars</strong>, you can call the <code class="highlighter-rouge">reply()</code> method of the <code class="highlighter-rouge">comment</code> object to send a canned reply. Here’s how you would do that:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">comment</span><span class="o">.</span><span class="n">body</span> <span class="c"># Fetch body</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">comment</span><span class="o">.</span><span class="n">author</span> <span class="c"># Fetch author</span>
    <span class="k">if</span> <span class="s">'mars'</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="c"># Generate a message</span>
        <span class="n">message</span> <span class="o">=</span> <span class="s">"Why no love for Titan, u/{0} ?"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">author</span><span class="p">)</span>

        <span class="n">comment</span><span class="o">.</span><span class="n">reply</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="c"># Send message</span></code></pre></figure>

<p>That’s all you need to do. Save the file, and exit your code editor. From the command line, you can run the bot using the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">python3 mybot.py</code></pre></figure>

<p>Note that the script will never exit, unless you press <strong>Ctrl+C</strong>. That’s because it is continuously fetching new comments, analyzing them, and replying to them.</p>

<p>You can, of course, take a look at its replies directly on Reddit.</p>

<p><img src="/assets/block1/reddit2.png" class="img-responsive center-block img-thumbnail" alt="bot replies" /></p>

<h3 id="conclusion">Conclusion</h3>

<p>In this tutorial, you learned how to create a Reddit bot using PRAW 4. For best results, I suggest you use a Reddit account that is at least a week old for your bot. Otherwise, Reddit might be restricting it considerably.</p>

<h4 id="related-reading">Related Reading</h4>

<ul>
  <li><a href="/2016/10/how-to-use-reddit-oauth2-in-android-apps.html">How to Use Reddit OAuth 2.0 In Android Apps</a></li>
</ul>

                    </div>

                    <!-- Share -->
                    <div class="post-share">
                        <p>If you found this article useful, please share it with your friends and colleagues!</p>
                        <a class="btn btn-primary" style="background:#4099FF" target="_blank" href="https://twitter.com/intent/tweet?text=How to Create a Reddit Bot Using PRAW4 In 5 Minutes&url=http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html&via=hathibel" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=600');return false;"><i class="fa fa-twitter fa-lg"></i></a>

                        <a class="btn btn-primary" style="background:#3b5998" target="_blank" href="https://facebook.com/sharer.php?u=http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=600');return false;"><i class="fa fa-facebook fa-lg"></i></a>
                        
                        <a class="btn btn-primary" style="background:#dd4b39" target="_blank" href="https://plus.google.com/share?url=http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html" onclick="javascript:window.open(this.href,
  '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><i class="fa fa-google-plus fa-lg"></i></a>
                    </div>

                    <!-- End of Share -->

                    <!-- Comments -->
                      <div class="comments">
                          <div id="disqus_thread"></div>
                            <script>                                    
                                var disqus_config = function () {
                                    this.page.url = "http://progur.com/2016/09/how-to-create-reddit-bot-using-praw4.html";
                                    this.page.identifier = "/2016/09/how-to-create-reddit-bot-using-praw4.html";
                                };
                                (function() {
                                    var d = document, s = d.createElement('script');

                                    s.src = '//progur.disqus.com/embed.js';

                                    s.setAttribute('data-timestamp', +new Date());
                                    (d.head || d.body).appendChild(s);
                                })();
                            </script>
                            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                      </div>
                    <!-- End of comments -->
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
  <div class="container">
    <p>
        Copyright &copy; 2016-2017 Progur.com | All rights reserved.
        <br/>
        Powered by Jekyll, and several secret sauces.
    </p>
  </div>
</footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shAutoloader.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushBash.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJava.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPython.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushRuby.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCpp.min.js"></script>
          <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.min.js"></script>

          <script>
              SyntaxHighlighter.defaults.toolbar = false;
              SyntaxHighlighter.all();
          </script>

        <!-- Analytics -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-46644689-5', 'auto');
          ga('send', 'pageview');

        </script>
        <!-- End of Analytics -->

  </body>
</html>

